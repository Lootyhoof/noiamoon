@import url(chrome://browser/skin/browser-nonLinux.css);

:root {
  --appmenu-background: transparent;
  --appmenu-border-color: rgba(0,0,0,.5);
  --appmenu-border-radius: 4px;
  --appmenu-box-shadow: 0 0 2px rgba(255, 255, 255, 0.4) inset, 0 4px 6px rgba(255, 255, 255, 0.4) inset, 0 11px 0 -2px rgba(255, 255, 255, 0.2) inset, 0 13px 8px rgba(255, 255, 255, 0.1) inset, 1px 2px 4px rgba(0, 0, 0, 0.3);
}

#main-window:not(:-moz-lwtheme):not([tabsintitlebar])[tabsontop="false"][sizemode="maximized"]{
  background: url("chrome://browser/skin/icons/titlebarbottom.png") #ABAEB8;
  margin-top: -2px;
}

#main-window:not(:-moz-lwtheme):not([tabsintitlebar])[tabsontop="false"][sizemode="maximized"] #navigator-toolbox {
  border-bottom: 0px solid #808080;
}
 
#main-window:not(:-moz-lwtheme):not([tabsintitlebar])[tabsontop="false"][sizemode="normal"] {
  background: url("chrome://browser/skin/icons/titlebarbottom.png") #CDCFD5;
}
  
#main-window:not(:-moz-lwtheme):not([tabsintitlebar])[tabsontop="false"][sizemode="normal"] #navigator-toolbox {
  border-bottom: 0px solid #808080;
  background: url(chrome://browser/skin/icons/Tool-background3.png) top left repeat-x #CDCFD5;
  background-size: auto 100%;
}

@media all and (-moz-windows-compositor) {
  #appcontent {
    -moz-appearance: -moz-win-exclude-glass;
  }
  
  #main-window:not(:-moz-lwtheme):not([tabsintitlebar])[tabsontop="true"]{
    background: url("chrome://browser/skin/icons/titlebar2.png") #ABAEB8;
  }	
}

/* ::::: app menu button ::::: */

#appmenu-button {
  min-height: 22px;
  max-height: 22px;
  height: 22px;
  color: #000;
  margin-top: 1px;
  margin-left: 1px;
  padding: 6px 8px;
  border: 1px solid var(--appmenu-border-color);
  border-radius: var(--appmenu-border-radius);
  background: var(--appmenu-background);
  background-clip: padding-box;
  box-shadow: var(--appmenu-box-shadow);
  text-shadow: none;
}

#appmenu-button:hover:not([disabled="true"]) {
  --appmenu-background: url(chrome://global/skin/button/body-hover.png) top left #b8e9fe;
  color: #000;
}

#main-window[privatebrowsingmode=temporary] #appmenu-button ,
#main-window[privatebrowsingmode=temporary] #TabsToolbar #appmenu-button{
  --appmenu-background: linear-gradient(rgb(153,38,211), rgb(105,19,163) 95%);
  --appmenu-border-color: rgba(43,8,65,.9);
  color: #fff;  
}

#main-window[privatebrowsingmode=temporary] #appmenu-button:hover:not(:active):not([open]),
#main-window[privatebrowsingmode=temporary] #TabsToolbar #appmenu-button:hover:not(:active):not([open])  {
  --appmenu-background: radial-gradient(farthest-side at center bottom, rgba(240,193,255,.5) 10%, rgba(240,193,255,0) 70%), radial-gradient(farthest-side at center bottom, rgb(192,81,247), rgba(236,172,255,0)), linear-gradient(rgb(144,20,207), rgb(95,0,158) 95%);
  --appmenu-border-color: rgba(43,8,65,.9);
}

#main-window[privatebrowsingmode=temporary] #appmenu-button:hover:active,
#main-window[privatebrowsingmode=temporary] #appmenu-button[open],
#main-window[privatebrowsingmode=temporary] #TabsToolbar  #appmenu-button:hover:active,
#main-window[privatebrowsingmode=temporary] #TabsToolbar  #appmenu-button[open] {
  --appmenu-background: linear-gradient(rgb(144,20,207), rgb(95,0,158) 95%);
}

#main-window[sizemode=normal] #appmenu-button {
  margin-top: 2px !important;
}

#appmenu-button > .button-box {
  width: 30px;
  height: 22px;
  min-height: 10px;
  background: transparent;
}

#appmenu-button > .button-box > .button-menu-dropmarker {
  list-style-image: url("chrome://global/skin/arrow/arrow-dn.gif");
  margin: 0 0 0 6px;
  background: none;
}

#main-window[tabsintitlebar] #appmenu-button-container {
  padding-top: 4px;
}

#appmenu-button-container {
  margin-bottom: -25px;
}

#main-window[sizemode="maximized"] #appmenu-button {
  margin-top:-3px;
}

#main-window:not([tabsintitlebar])[sizemode="maximized"] #appmenu-button {
  margin-top:-2px;
}

#main-window:not([sizemode="maximized"]) #appmenu-button {
  margin-top:6px;
}

@media not all and (-moz-windows-compositor) {
  #main-window:-moz-lwtheme[tabsontop="false"][sizemode="maximized"] #appmenu-button {
    margin-top: -5px !important;
  }
  
	#main-window[tabsintitlebar] #appmenu-button-container {
		margin-top: -6px;
	}
  
	#main-window[sizemode="maximized"][tabsontop=false] > #titlebar > #titlebar-content > #appmenu-button-container {
		margin-top: 4px;
	}
  
	#main-window[sizemode="maximized"][tabsontop=true] #appmenu-button {
		margin-top:-1px;
  }

	#main-window:not([sizemode="maximized"])[tabsontop=true] > #titlebar > #titlebar-content > #appmenu-button-container {
		margin-top: -2px;
	}
  
	#main-window:not([sizemode="maximized"])[tabsontop=false] > #titlebar > #titlebar-content > #appmenu-button-container {
		margin-top: -5px;
	}
}

#appmenu-button > menupopup > menuitem {
  padding-right: 16px;
}

#appmenu-button .button-text { 
  margin-top: -3px; 
}

#main-window[privatebrowsingmode=temporary] #appmenu-button> .button-box > .button-menu-dropmarker {
  list-style-image: url("chrome://global/skin/arrow/arrow-dn-dark.png");
}

#appmenu-button dropmarker { 
  margin-top: -3px  !important; 
  margin-right: 0px  !important;  
  margin-left: 2px !important;
}

/* ::::: titlebar ::::: */

#main-window[sizemode="normal"] > #titlebar {
  -moz-appearance: -moz-window-titlebar;
}

#main-window[sizemode="maximized"] > #titlebar {
  -moz-appearance: -moz-window-titlebar-maximized;
}

#titlebar-buttonbox {
  -moz-appearance: none;
}

.titlebar-placeholder[type="appmenu-button"] {
  margin-left: 4px;
}

.titlebar-placeholder[type="caption-buttons"] {
  margin-left: 5px;
}

/* titlebar command buttons */

#titlebar-min {
  -moz-appearance: none;
  background: url("chrome://browser/skin/icons/minimize.png") 0px 0px no-repeat;
  width: 26px;
  height: 20px;
}

#titlebar-min:hover {
  -moz-appearance: none;
  background: url("chrome://browser/skin/icons/minimizeX.png") 0px 0px no-repeat;
  width: 26px;
  height: 20px;
}

#titlebar-max {
  -moz-appearance: none;
  background: url("chrome://browser/skin/icons/restore.png") 0px 0px no-repeat;
  width: 26px;
  height: 20px;
  margin-left: -2px;
  margin-inline-end: 0px;
}

#titlebar-max:hover {
  -moz-appearance: none;
  background: url("chrome://browser/skin/icons/restoreX.png") 0px 0px no-repeat;
  width: 26px;
  height: 20px;
  margin-left: -2px;
}

#titlebar-close {
  -moz-appearance: none;
  background: url("chrome://browser/skin/icons/close.png") 0px 0px no-repeat;
  width: 26px;
  height: 20px;
  margin-left: -2px;
}

#titlebar-close:hover {
  -moz-appearance: none;
  background: url("chrome://browser/skin/icons/closeX.png") 0px 0px no-repeat;
  width: 26px;
  height: 20px;
  margin-left: -2px;
}

#main-window[tabsintitlebar] #titlebar-content:not(:-moz-lwtheme),
#main-window[tabsintitlebar]:not([inFullscreen]) #TabsToolbar:not(:-moz-lwtheme) {
  background-color: #99B4D1;
  color: #000000;
}
#main-window[tabsintitlebar] #titlebar-content:not(:-moz-lwtheme):-moz-window-inactive,
#main-window[tabsintitlebar]:not([inFullscreen]) #TabsToolbar:not(:-moz-lwtheme):-moz-window-inactive {
  background-color: #BFCDDB;
  color: #434E54;
}

#main-window[tabsintitlebar] #titlebar:-moz-lwtheme {
  visibility: hidden;
}

#main-window[tabsintitlebar] #titlebar-content:-moz-lwtheme {
  -moz-binding: url("chrome://global/content/bindings/general.xml#windowdragbox");
  visibility: visible;
}

#titlebar-buttonbox {
  margin-top: 3px;
}

#main-window:not([tabsintitlebar]) #titlebar-buttonbox {
  margin-bottom: -18px;   
}

#main-window[tabsintitlebar] #titlebar-buttonbox {
  margin-top: 2px;
  margin-bottom: -20px;
}

@media not all and (-moz-windows-compositor) {
  #main-window[tabsintitlebar]  #titlebar-buttonbox {
    margin-bottom: -16px;
    margin-top: 0px;    
  }
}

#main-window[sizemode=normal] #navigator-toolbox[tabsontop=true] > #toolbar-menubar[autohide="true"] ~ #TabsToolbar {
  margin-top: -21px;
}

#main-window:not([tabsintitlebar]) #titlebar-buttonbox {
  -moz-box-align: start;
}

#titlebar-buttonbox:-moz-locale-dir(rtl) {
  margin-left: 7px;
}

@media not all and (-moz-windows-compositor) {
  #main-window:not(:-moz-lwtheme):not([tabsintitlebar])[tabsontop="false"][sizemode="normal"] #titlebar {
    -moz-appearance: none;
    background: url("chrome://browser/skin/icons/titlebar2.png") #CDCFD5;
    border-top: none;
  }
  #main-window:not(:-moz-lwtheme):not([tabsintitlebar])[tabsontop="false"][sizemode="maximized"] #titlebar {
    -moz-appearance: none;
    background: url("chrome://browser/skin/icons/titlebar2.png") #AEB1BB;
    border-top: none;
  }
  #main-window:not(:-moz-lwtheme)[tabsontop="true"] #titlebar {
    -moz-appearance: none;
    background: url("chrome://browser/skin/icons/titlebar.png") #ABAEB8;
    border-top: none;
  }
}